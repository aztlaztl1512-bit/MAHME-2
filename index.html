<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª (2) - Ø£/ Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ</title>
    <style>
        :root { 
            --primary: #1a237e;   /* Ø£Ø²Ø±Ù‚ Ù„ÙŠÙ„ÙŠ */
            --secondary: #455a64; /* Ø±Ù…Ø§Ø¯ÙŠ ÙØ¶ÙŠ */
            --accent: #ffab00;    /* Ø°Ù‡Ø¨ÙŠ */
            --bg: #f4f7f6; 
            --white: #ffffff; 
            --correct: #2e7d32;
            --wrong: #c62828;
        }
        body { font-family: 'Segoe UI', Tahoma, sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; line-height: 1.7; color: #333; }
        .quiz-card { background: var(--white); width: 100%; max-width: 950px; border-radius: 25px; box-shadow: 0 15px 45px rgba(0,0,0,0.1); border-top: 15px solid var(--primary); padding: 30px; position: relative; }
        .header { text-align: center; border-bottom: 2px solid #eee; margin-bottom: 25px; padding-bottom: 15px; }
        
        .timer-container { position: sticky; top: 10px; background: var(--wrong); color: white; padding: 10px 25px; border-radius: 50px; font-weight: bold; font-size: 1.1rem; display: inline-block; margin-bottom: 20px; z-index: 100; box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
        .timer-pulse { animation: pulse-animation 0.6s infinite alternate; transform: scale(1.1); }
        @keyframes pulse-animation { from { transform: scale(1.1); } to { transform: scale(1.25); } }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0; }
        .option { padding: 18px; border: 2px solid #f0f0f0; border-radius: 15px; cursor: pointer; transition: 0.3s; font-weight: bold; background: #fafafa; font-size: 1.1rem; text-align: center; }
        .option:hover { border-color: var(--primary); background: #f0f4ff; transform: translateY(-2px); }
        
        .correct-opt { background: var(--correct) !important; color: white; border-color: var(--correct) !important; }
        .wrong-opt { background: var(--wrong) !important; color: white; border-color: var(--wrong) !important; }
        
        .feedback-box { margin-top: 20px; padding: 20px; border-radius: 15px; background: #fffde7; border-right: 8px solid var(--accent); display: none; font-size: 1.05rem; box-shadow: inset 0 0 10px rgba(0,0,0,0.02); }
        .btn { background: var(--secondary); color: white; padding: 16px 45px; border: none; border-radius: 12px; cursor: pointer; font-size: 1.2rem; font-weight: bold; transition: 0.3s; }
        .btn:hover { background: var(--primary); transform: scale(1.02); }
        
        .result-table { width: 100%; border-collapse: collapse; margin-top: 25px; background: white; }
        .result-table th { background: var(--primary); color: white; padding: 12px; }
        .result-table td { border: 1px solid #ddd; padding: 12px; text-align: center; font-size: 0.9rem; }
        
        .hidden { display: none; }
        .locked { text-align: center; color: red; margin-top: 100px; padding: 50px; border: 5px solid red; background: white; border-radius: 20px; }
    </style>
</head>
<body id="main-body">

<div class="quiz-card" id="quiz-container">
    <div class="header">
        <h3 id="author-name">âœ¨ Ø£ / Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ - Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø£Ù…ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ ğŸ“</h3>
        <h2 id="quiz-title">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙ†Ø§Ø¸Ø± Ø§Ù„Ù„ÙØ¸ÙŠ - Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (2) Ø§Ù„Ù…Ø·ÙˆØ±</h2>
    </div>

    <div id="start-page" style="text-align: center;">
        <p style="font-size: 1.2rem; margin-bottom: 20px;">â±ï¸ 45 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„ | ğŸ”€ Ø®Ù„Ø· Ø¹Ø´ÙˆØ§Ø¦ÙŠ ÙƒØ§Ù…Ù„ | ğŸ’¡ ØªØ­Ù„ÙŠÙ„ Ù…Ù†Ø·Ù‚ÙŠ Ù…ÙˆØ³Ø¹</p>
        <input type="text" id="studentNameInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ø¯ÙŠ..." style="width: 75%; padding: 15px; border-radius: 10px; border: 2px solid #ccc; text-align: center; font-size: 1.1rem; margin-bottom: 20px;">
        <br><button class="btn" onclick="startQuizAction()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸš€</button>
    </div>

    <div id="quiz-page" class="hidden">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <div id="progress-text" style="font-weight: bold; color: var(--primary);"></div>
            <div id="timer-box" class="timer-container">â³ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ: <span id="timer-val">45</span> Ø«Ø§Ù†ÙŠØ©</div>
        </div>
        <div id="question-display" style="font-size: 1.8rem; text-align: center; margin: 25px 0; font-weight: 800; color: var(--primary); background: #f9f9f9; padding: 25px; border-radius: 20px; border: 1px solid #eee;"></div>
        <div id="options-container" class="options-grid"></div>
        <div id="feedback-display" class="feedback-box"></div>
        <div style="text-align: center; margin-top: 30px;">
            <button id="next-btn" class="btn hidden" onclick="loadNextQuestion()">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â®•</button>
        </div>
    </div>

    <div id="result-page" class="hidden">
        <div style="text-align: center; padding: 30px; background: #e8eaf6; border-radius: 20px; border: 3px solid var(--primary); margin-bottom: 30px;">
            <h2 id="score-display" style="color: var(--primary); margin:0; font-size: 2.5rem;"></h2>
            <p id="student-greeting" style="font-size: 1.2rem; margin-top:10px;"></p>
        </div>
        <h3 style="color: var(--secondary); border-right: 5px solid var(--accent); padding-right: 15px;">ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ:</h3>
        <table class="result-table">
            <thead>
                <tr>
                    <th>Ø§Ù„Ø³Ø¤Ø§Ù„</th>
                    <th>Ø¥Ø¬Ø§Ø¨ØªÙƒ</th>
                    <th>Ø§Ù„ØµØ­ÙŠØ­Ø©</th>
                    <th>Ø§Ù„ØªÙØ³ÙŠØ± ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ</th>
                </tr>
            </thead>
            <tbody id="summary-body"></tbody>
        </table>
        <div style="text-align: center; margin-top: 40px;">
            <p style="font-weight: bold; color: var(--primary);">âœ¨ Ø£ / Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ - Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø£Ù…ÙŠØ± Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÙŠØ¯ ğŸ“</p>
            <button class="btn" onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ğŸ”€</button>
        </div>
    </div>
</div>

<script>
    // Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ø§Ù„ÙÙƒØ±ÙŠØ©
    (function protect() {
        const teacher = "Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ";
        setInterval(() => {
            const auth = document.getElementById('author-name');
            if (!auth || !auth.innerText.includes(teacher)) {
                document.getElementById('main-body').innerHTML = '<div class="locked"><h1>âš ï¸ Ø®Ø±Ù‚ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ù„ÙƒÙŠØ©</h1><p>Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…Ù„ Ù…Ø­Ù…ÙŠ Ø¨Ø±Ù…Ø¬ÙŠØ§Ù‹ Ù„Ù„Ø£Ø³ØªØ§Ø° Ø¹Ø¨Ø¯Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ. Ù„Ø§ ÙŠØ³Ù…Ø­ Ø¨ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ‚.</p></div>';
            }
        }, 3000);
    })();

    const masterPool = [
        { q: "Ø¹ÙŠÙ† : Ø¯Ù…ÙˆØ¹", opts: ["Ø³Ø­Ø§Ø¨ : Ù…Ø·Ø±", "Ù†Ø§Ø± : Ø­Ø·Ø¨", "Ø´Ù…Ø³ : Ø­Ø±Ø§Ø±Ø©", "ÙƒØªØ§Ø¨ : ÙˆØ±Ù‚"], c: "Ø³Ø­Ø§Ø¨ : Ù…Ø·Ø±", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ù…ØµØ¯Ø±ÙŠØ©/Ù†Ø²ÙˆÙ„): Ø§Ù„Ø¯Ù…ÙˆØ¹ ØªÙ†Ø²Ù„ Ù…Ù† Ø§Ù„Ø¹ÙŠÙ†ØŒ ÙˆØ§Ù„Ù…Ø·Ø± ÙŠÙ†Ø²Ù„ Ù…Ù† Ø§Ù„Ø³Ø­Ø§Ø¨." },
        { q: "Ø±Ù…Ù„ : Ø²Ø¬Ø§Ø¬", opts: ["Ù‚ØµØ¨ : Ø³ÙƒØ±", "Ø­Ø¯ÙŠØ¯ : Ø­Ø¯Ø§Ø¯", "Ø®Ø´Ø¨ : ØºØ§Ø¨Ø©", "Ù…Ø§Ø¡ : Ø«Ù„Ø¬"], c: "Ù‚ØµØ¨ : Ø³ÙƒØ±", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ø£ØµÙ„ Ø§Ù„Ø´ÙŠØ¡): Ø§Ù„Ø±Ù…Ù„ Ù‡Ùˆ Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù… Ù„Ù„Ø²Ø¬Ø§Ø¬ØŒ ÙˆØ§Ù„Ù‚ØµØ¨ Ù‡Ùˆ Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ø®Ø§Ù… Ù„Ù„Ø³ÙƒØ±." },
        { q: "Ù„ÙŠÙ„ : Ø¸Ù„Ø§Ù…", opts: ["Ù†Ø§Ø± : Ø­Ø±Ù‚", "Ø«Ù„Ø¬ : Ø¨Ø±ÙˆØ¯Ø©", "Ù†ÙˆØ± : Ø¶ÙŠØ§Ø¡", "Ø´Ù…Ø³ : Ø¥Ø´Ø±Ø§Ù‚"], c: "Ø«Ù„Ø¬ : Ø¨Ø±ÙˆØ¯Ø©", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (ØµÙØ© Ù…Ù„Ø§Ø²Ù…Ø©): Ø§Ù„Ø¸Ù„Ø§Ù… ÙŠÙ„Ø§Ø²Ù… Ø§Ù„Ù„ÙŠÙ„ØŒ ÙˆØ§Ù„Ø¨Ø±ÙˆØ¯Ø© ØªÙ„Ø§Ø²Ù… Ø§Ù„Ø«Ù„Ø¬." },
        { q: "Ø³ÙƒÙŠÙ† : Ø¬Ø±Ø§Ø­", opts: ["Ù…Ù†Ø´Ø§Ø± : Ù†Ø¬Ø§Ø±", "Ù‚Ù„Ù… : ÙƒØ§ØªØ¨", "Ù…Ù‚Øµ : Ø­Ù„Ø§Ù‚", "Ù…ÙØªØ§Ø­ : Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ"], c: "Ù…Ù‚Øµ : Ø­Ù„Ø§Ù‚", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ù‡Ù†Ø©): Ø§Ù„Ø¬Ø±Ø§Ø­ ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ø³ÙƒÙŠÙ†ØŒ ÙˆØ§Ù„Ø­Ù„Ø§Ù‚ ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù…Ù‚Øµ." },
        { q: "Ù…Ø·Ø§Ø± : Ø·Ø§Ø¦Ø±Ø§Øª", opts: ["Ù…ÙŠÙ†Ø§Ø¡ : Ø³ÙÙ†", "Ù…Ø­Ø·Ø© : Ø±ÙƒØ§Ø¨", "Ù…Ù„Ø¹Ø¨ : Ù„Ø§Ø¹Ø¨ÙŠÙ†", "Ù…ÙƒØªØ¨Ø© : ÙƒØªØ¨"], c: "Ù…ÙŠÙ†Ø§Ø¡ : Ø³ÙÙ†", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ù…ÙƒØ§Ù† Ø§Ù„ÙˆÙ‚ÙˆÙ): Ø§Ù„Ø·Ø§Ø¦Ø±Ø§Øª Ù…ÙƒØ§Ù†Ù‡Ø§ Ø§Ù„Ù…Ø·Ø§Ø±ØŒ ÙˆØ§Ù„Ø³ÙÙ† Ù…ÙƒØ§Ù†Ù‡Ø§ Ø§Ù„Ù…ÙŠÙ†Ø§Ø¡." },
        { q: "Ø­Ø°Ø§Ø¡ : Ø¬Ù„Ø¯", opts: ["Ø®Ø§ØªÙ… : Ø°Ù‡Ø¨", "Ø¨Ø§Ø¨ : Ø®Ø´Ø¨", "ÙƒØªØ§Ø¨ : ÙˆØ±Ù‚", "Ø«ÙˆØ¨ : Ù‚Ù…Ø§Ø´"], c: "Ø®Ø§ØªÙ… : Ø°Ù‡Ø¨", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ù…ØµÙ†ÙˆØ¹ Ù…Ù†): Ø§Ù„Ø­Ø°Ø§Ø¡ ÙŠÙØµÙ†Ø¹ Ù…Ù† Ø§Ù„Ø¬Ù„Ø¯ØŒ ÙˆØ§Ù„Ø®Ø§ØªÙ… ÙŠÙØµÙ†Ø¹ Ù…Ù† Ø§Ù„Ø°Ù‡Ø¨." },
        { q: "Ø£Ø³Ø¯ : Ø¹Ø±ÙŠÙ†", opts: ["ØµÙ‚Ø± : ÙˆÙƒØ±", "Ù†Ø­Ù„ : Ø®Ù„ÙŠØ©", "Ù†Ù…Ù„ : Ù‚Ø±ÙŠØ©", "Ø¶Ø¨Ø¹ : ÙˆØ¬Ø§Ø±"], c: "Ù†Ø­Ù„ : Ø®Ù„ÙŠØ©", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ø¨ÙŠØª Ø§Ù„ÙƒØ§Ø¦Ù†): Ø§Ù„Ø¹Ø±ÙŠÙ† Ù‡Ùˆ Ø¨ÙŠØª Ø§Ù„Ø£Ø³Ø¯ØŒ ÙˆØ§Ù„Ø®Ù„ÙŠØ© Ù‡ÙŠ Ø¨ÙŠØª Ø§Ù„Ù†Ø­Ù„." },
        { q: "Ù‚Ø§Ø¦Ø¯ : Ø¬ÙŠØ´", opts: ["Ø±Ø¨Ø§Ù† : Ø³ÙÙŠÙ†Ø©", "Ù…Ø¯ÙŠØ± : Ù…Ø¯Ø±Ø³Ø©", "Ù…Ø¯Ø±Ø¨ : ÙØ±ÙŠÙ‚", "Ø¥Ù…Ø§Ù… : Ù…ØµÙ„ÙŠÙ†"], c: "Ø±Ø¨Ø§Ù† : Ø³ÙÙŠÙ†Ø©", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆÙ‚ÙŠØ§Ø¯Ø©): Ø§Ù„Ù‚Ø§Ø¦Ø¯ ÙŠÙ‚ÙˆØ¯ Ø§Ù„Ø¬ÙŠØ´ØŒ ÙˆØ§Ù„Ø±Ø¨Ø§Ù† ÙŠÙ‚ÙˆØ¯ Ø§Ù„Ø³ÙÙŠÙ†Ø©." },
        { q: "Ø«Ø§Ù†ÙŠØ© : Ø¯Ù‚ÙŠÙ‚Ø©", opts: ["ÙŠÙˆÙ… : Ø£Ø³Ø¨ÙˆØ¹", "Ø³Ø§Ø¹Ø© : ÙŠÙˆÙ…", "Ø´Ù‡Ø± : Ø³Ù†Ø©", "ØºØ±Ø§Ù… : ÙƒÙŠÙ„ÙˆØºØ±Ø§Ù…"], c: "ÙŠÙˆÙ… : Ø£Ø³Ø¨ÙˆØ¹", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ø¬Ø²Ø¡ Ù…Ù† ÙƒÙ„): Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©ØŒ ÙˆØ§Ù„ÙŠÙˆÙ… Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹." },
        { q: "Ø¨ØµØ± : Ø¹ÙŠÙ†", opts: ["Ø³Ù…Ø¹ : Ø£Ø°Ù†", "Ø´Ù… : Ø£Ù†Ù", "Ø°ÙˆÙ‚ : Ù„Ø³Ø§Ù†", "Ù„Ù…Ø³ : ÙŠØ¯"], c: "Ø³Ù…Ø¹ : Ø£Ø°Ù†", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ø­Ø§Ø³Ø© ÙˆØ¹Ø¶ÙˆÙ‡Ø§): Ø§Ù„Ø¨ØµØ± Ø­Ø§Ø³Ø© Ø§Ù„Ø¹ÙŠÙ†ØŒ ÙˆØ§Ù„Ø³Ù…Ø¹ Ø­Ø§Ø³Ø© Ø§Ù„Ø£Ø°Ù†." },
        { q: "Ù…Ù†Ø­Ù„ : Ù†Ø­Ù„", opts: ["Ø¥Ø³Ø·Ø¨Ù„ : Ø®ÙŠÙ„", "ØºØ§Ø¨Ø© : Ø£Ø´Ø¬Ø§Ø±", "Ø¨Ø­Ø± : Ø³Ù…Ùƒ", "ÙØµÙ„ : Ø·Ù„Ø§Ø¨"], c: "Ø¥Ø³Ø·Ø¨Ù„ : Ø®ÙŠÙ„", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ù…ÙƒØ§Ù† ØªØ±Ø¨ÙŠØ©/Ø¥Ù‚Ø§Ù…Ø©): Ø§Ù„Ù…Ù†Ø­Ù„ Ù„Ù„Ù†Ø­Ù„ØŒ ÙˆØ§Ù„Ø¥Ø³Ø·Ø¨Ù„ Ù„Ù„Ø®ÙŠÙ„." },
        { q: "Ø´ØªØ§Ø¡ : Ø±Ø¨ÙŠØ¹", opts: ["ÙØ¬Ø± : Ø¶Ø­Ù‰", "Ø¸Ù‡Ø± : Ø¹ØµØ±", "Ø³Ø¨Øª : Ø£Ø­Ø¯", "Ù†ÙˆÙ… : Ø­Ù„Ù…"], c: "Ø³Ø¨Øª : Ø£Ø­Ø¯", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (ØªØªØ§Ø¨Ø¹): Ø§Ù„Ø±Ø¨ÙŠØ¹ ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø´ØªØ§Ø¡ØŒ ÙˆØ§Ù„Ø£Ø­Ø¯ ÙŠØ£ØªÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø¨Øª." },
        { q: "Ø¬Ù†Ø¯ÙŠ : Ø³Ù„Ø§Ø­", opts: ["Ø·Ø¨ÙŠØ¨ : Ø³Ù…Ø§Ø¹Ø©", "Ù†Ø¬Ø§Ø± : Ù…Ù†Ø´Ø§Ø±", "ÙƒØ§ØªØ¨ : Ù‚Ù„Ù…", "ÙÙ„Ø§Ø­ : Ù…Ø­Ø±Ø§Ø«"], c: "Ø·Ø¨ÙŠØ¨ : Ø³Ù…Ø§Ø¹Ø©", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ø£Ø¯Ø§Ø© Ø§Ù„Ø¹Ù…Ù„): Ø§Ù„Ø¬Ù†Ø¯ÙŠ ÙŠØ­ØªØ§Ø¬ Ø³Ù„Ø§Ø­ØŒ ÙˆØ§Ù„Ø·Ø¨ÙŠØ¨ ÙŠØ­ØªØ§Ø¬ Ø³Ù…Ø§Ø¹Ø©." },
        { q: "Ø¨Ø¹ÙˆØ¶ : Ù…Ø³ØªÙ†Ù‚Ø¹", opts: ["Ø³Ù…Ùƒ : Ø¨Ø­Ø±", "Ø­ÙŠÙˆØ§Ù†Ø§Øª : ØºØ§Ø¨Ø©", "Ø£Ø´Ø¬Ø§Ø± : Ø¨Ø³ØªØ§Ù†", "Ù†Ø¬ÙˆÙ… : Ø³Ù…Ø§Ø¡"], c: "Ø³Ù…Ùƒ : Ø¨Ø­Ø±", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ù…ÙƒØ§Ù† ØªÙˆØ§Ø¬Ø¯): Ø§Ù„Ø¨Ø¹ÙˆØ¶ ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ†Ù‚Ø¹ØŒ ÙˆØ§Ù„Ø³Ù…Ùƒ ÙÙŠ Ø§Ù„Ø¨Ø­Ø±." },
        { q: "ØµØ¯Ø§Ù‚Ø© : ÙˆØ¯", opts: ["Ø¹Ø¯Ø§ÙˆØ© : Ø®ØµÙˆÙ…Ø©", "Ø­Ø¨ : Ø²ÙˆØ§Ø¬", "Ø¬ÙØ§Ø¡ : Ù‡Ø¬Ø±", "Ù‚Ø·ÙŠØ¹Ø© : Ø¥Ù‡Ù…Ø§Ù„"], c: "Ø¹Ø¯Ø§ÙˆØ© : Ø®ØµÙˆÙ…Ø©", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ù†ØªÙŠØ¬Ø©): Ø§Ù„ØµØ¯Ø§Ù‚Ø© ÙŠÙ†ØªØ¬ Ø¹Ù†Ù‡Ø§ ÙˆØ¯ØŒ ÙˆØ§Ù„Ø¹Ø¯Ø§ÙˆØ© ÙŠÙ†ØªØ¬ Ø¹Ù†Ù‡Ø§ Ø®ØµÙˆÙ…Ø©." },
        { q: "Ø±Ø£Ø³ : Ø´Ø¹Ø±", opts: ["Ø­Ø¯ÙŠÙ‚Ø© : Ø¹Ø´Ø¨", "ØºØ§Ø¨Ø© : Ø£Ø´Ø¬Ø§Ø±", "ÙƒØªØ§Ø¨ : ÙˆØ±Ù‚", "ÙˆØ¬Ù‡ : Ø¨Ø´Ø±Ø©"], c: "ØºØ§Ø¨Ø© : Ø£Ø´Ø¬Ø§Ø±", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (ØªØºØ·ÙŠØ©): Ø§Ù„Ø±Ø£Ø³ ÙŠØºØ·ÙŠÙ‡ Ø§Ù„Ø´Ø¹Ø±ØŒ ÙˆØ§Ù„ØºØ§Ø¨Ø© ØªØºØ·ÙŠÙ‡Ø§ Ø§Ù„Ø£Ø´Ø¬Ø§Ø±." },
        { q: "Ø³Ø­Ø§Ø¨ : Ø±Ø¹Ø¯", opts: ["Ø´Ù…Ø³ : Ø¶ÙŠØ§Ø¡", "Ù†Ø§Ø± : Ø­Ø±Ø§Ø±Ø©", "Ø²Ù‡Ø± : Ø¹Ø·Ø±", "Ø¨Ø­Ø± : Ù…ÙˆØ¬"], c: "Ù†Ø§Ø± : Ø­Ø±Ø§Ø±Ø©", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ø§Ù‚ØªØ±Ø§Ù†): Ø§Ù„Ø³Ø­Ø§Ø¨ Ù…Ø¹Ù‡ Ø±Ø¹Ø¯ØŒ ÙˆØ§Ù„Ù†Ø§Ø± Ù…Ø¹Ù‡Ø§ Ø­Ø±Ø§Ø±Ø©." },
        { q: "Ù…Ø¹Ù„Ù… : Ù…Ø¯Ø±Ø³Ø©", opts: ["Ø·Ø¨ÙŠØ¨ : Ù…Ø³ØªØ´ÙÙ‰", "Ù…Ù‡Ù†Ø¯Ø³ : Ù…ØµÙ†Ø¹", "Ù…ÙˆØ¸Ù : Ù…ÙƒØªØ¨", "Ø¹Ø§Ù…Ù„ : ÙˆØ±Ø´Ø©"], c: "Ø·Ø¨ÙŠØ¨ : Ù…Ø³ØªØ´ÙÙ‰", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ù…ÙƒØ§Ù† Ø§Ù„Ø¹Ù…Ù„): Ø§Ù„Ù…Ø¹Ù„Ù… ÙÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©ØŒ ÙˆØ§Ù„Ø·Ø¨ÙŠØ¨ ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰." },
        { q: "Ø£Ø­Ù…Ø± : Ø®Ø·Ø±", opts: ["Ø£Ø®Ø¶Ø± : Ø¹Ø¨ÙˆØ±", "Ø£Ø¨ÙŠØ¶ : Ø³Ù„Ø§Ù…", "Ø£Ø³ÙˆØ¯ : Ø­Ø²Ù†", "Ø£ØµÙØ± : ØºÙŠØ±Ø©"], c: "Ø£Ø¨ÙŠØ¶ : Ø³Ù„Ø§Ù…", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (Ø¯Ù„Ø§Ù„Ø© ÙˆØ±Ù…Ø²): Ø§Ù„Ø£Ø­Ù…Ø± ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø·Ø±ØŒ ÙˆØ§Ù„Ø£Ø¨ÙŠØ¶ ÙŠØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ù„Ø§Ù…." },
        { q: "ØºØ²Ø§Ù„ : Ø±Ø´Ø§", opts: ["Ø£Ø³Ø¯ : Ø´Ø¨Ù„", "ÙØ±Ø³ : Ù…Ù‡Ø±", "ÙƒÙ„Ø¨ : Ø¬Ø±Ùˆ", "Ø¬Ù…Ù„ : Ù‚Ø¹ÙˆØ¯"], c: "ÙØ±Ø³ : Ù…Ù‡Ø±", r: "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© (ÙƒØ§Ø¦Ù† ÙˆØµØºÙŠØ±Ù‡): Ø§Ù„Ø±Ø´Ø§ ØµØºÙŠØ± Ø§Ù„ØºØ²Ø§Ù„ØŒ ÙˆØ§Ù„Ù…Ù‡Ø± ØµØºÙŠØ± Ø§Ù„ÙØ±Ø³. âœ¨ Ø£ / Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ù„ÙÙŠÙÙŠ ğŸ“" }
    ];

    let currentIdx = 0, score = 0, timerInterval, timeLeft = 45, logs = [], activeQs = [], sName = "";

    function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
    }

    function startQuizAction() {
        sName = document.getElementById('studentNameInput').value;
        if (!sName.trim() || sName.length < 3) { alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ"); return; }
        activeQs = shuffle([...masterPool]); // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        document.getElementById('start-page').classList.add('hidden');
        document.getElementById('quiz-page').classList.remove('hidden');
        loadQuestion();
    }

    function startTimer() {
        clearInterval(timerInterval);
        timeLeft = 45;
        const tBox = document.getElementById('timer-box');
        const tVal = document.getElementById('timer-val');
        tBox.classList.remove('timer-pulse');
        tVal.innerText = timeLeft;
        timerInterval = setInterval(() => {
            timeLeft--;
            tVal.innerText = timeLeft;
            if (timeLeft <= 5) tBox.classList.add('timer-pulse');
            if (timeLeft <= 0) { clearInterval(timerInterval); handleSelection(null); }
        }, 1000);
    }

    function loadQuestion() {
        if (currentIdx >= activeQs.length) { endQuiz(); return; }
        const q = activeQs[currentIdx];
        document.getElementById('progress-text').innerText = `Ø³Ø¤Ø§Ù„ ${currentIdx + 1} Ù…Ù† ${activeQs.length}`;
        document.getElementById('question-display').innerText = q.q;
        document.getElementById('feedback-display').style.display = 'none';
        document.getElementById('next-btn').classList.add('hidden');
        
        const box = document.getElementById('options-container');
        box.innerHTML = '';
        shuffle([...q.opts]).forEach(opt => { // Ø®Ù„Ø· Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
            const div = document.createElement('div');
            div.className = 'option';
            div.innerText = opt;
            div.onclick = () => handleSelection(opt, div);
            box.appendChild(div);
        });
        startTimer();
    }

    function handleSelection(sel, el) {
        clearInterval(timerInterval);
        document.getElementById('timer-box').classList.remove('timer-pulse');
        const q = activeQs[currentIdx];
        const opts = document.querySelectorAll('.option');
        opts.forEach(o => o.onclick = null);

        let isCorrect = (sel === q.c);
        if (isCorrect) {
            if(el) el.classList.add('correct-opt');
            score++;
        } else {
            if(el) el.classList.add('wrong-opt');
            opts.forEach(o => { if(o.innerText === q.c) o.classList.add('correct-opt'); });
        }

        const feedback = document.getElementById('feedback-display');
        feedback.style.display = 'block';
        feedback.innerHTML = `<strong>ğŸ’¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠ:</strong> ${q.r}`;
        document.getElementById('next-btn').classList.remove('hidden');
        logs.push({ q: q.q, user: sel || "Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª â°", correct: q.c, r: q.r });
    }

    function loadNextQuestion() {
        currentIdx++;
        loadQuestion();
    }

    function endQuiz() {
        document.getElementById('quiz-page').classList.add('hidden');
        document.getElementById('result-page').classList.remove('hidden');
        document.getElementById('score-display').innerText = `Ù†ØªÙŠØ¬ØªÙƒ: ${score} Ù…Ù† ${activeQs.length}`;
        document.getElementById('student-greeting').innerText = `Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙŠØ§ Ø¨Ø·Ù„: ${sName}`;
        const tbody = document.getElementById('summary-body');
        logs.forEach(log => {
            tbody.innerHTML += `<tr><td>${log.q}</td><td style="color:${log.user === log.correct ? 'green':'red'}">${log.user}</td><td style="color:green; font-weight:bold">${log.correct}</td><td style="text-align:right">${log.r}</td></tr>`;
        });
    }
</script>
</body>
</html>